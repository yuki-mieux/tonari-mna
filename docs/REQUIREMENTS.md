# HireMate - 要件定義書

最終更新: 2025-12-09
タグ: #HireMate #要件定義 #開発事業

---

## 1. プロダクトビジョン

### 1.1 ミッション
「面接のその場で内定を出せる世界」を実現する

### 1.2 解決する課題

| 課題 | 現状 | HireMateによる解決 |
|------|------|-------------------|
| 面接品質のバラつき | 面接官のスキルに依存 | AIがリアルタイムでアドバイス |
| マッチング精度 | 面接後に求人検索 | 会話中にリアルタイムマッチング |
| 採用リードタイム | 「持ち帰り検討」で数日〜数週間 | 面接中に内定提示 |
| 人材不足への対応 | 優秀な人材が他社に流れる | 即断即決で人材確保 |

### 1.3 ターゲットユーザー

**プライマリ**: 派遣会社の面接官
- 月間100件以上の面接を担当
- 複数の求人案件を抱えている
- 面接スキル向上の意欲あり

**セカンダリ**: 派遣会社のマネージャー
- 面接品質の標準化を求めている
- マッチング率・採用率のKPI管理

---

## 2. 機能要件

### 2.1 コア機能

#### F1: リアルタイム音声認識
- **概要**: 面接の会話をリアルタイムでテキスト化
- **要件**:
  - 遅延: 2秒以内
  - 精度: 日本語で95%以上
  - 話者分離: 面接官と候補者を識別
- **技術候補**:
  - Whisper API（OpenAI）
  - Google Cloud Speech-to-Text
  - Azure Speech Services

#### F2: 面接アドバイス
- **概要**: 会話内容を分析し、面接官にリアルタイムでアドバイス
- **アドバイス種類**:
  - 深掘り提案: 「〇〇についてもう少し詳しく聞いてみてください」
  - 質問提案: 「次はこの質問がおすすめです」
  - 注意喚起: 「候補者が〇〇に不安を感じているようです」
  - ポジティブフィードバック: 「良い質問でした」
- **要件**:
  - 表示頻度: 30秒〜1分に1回程度（邪魔にならない）
  - 文字数: 1アドバイス50文字以内
  - コンテキスト: 直近5分の会話を考慮

#### F3: 求人マッチング
- **概要**: 会話内容から候補者に合う求人をリアルタイム提示
- **要件**:
  - 求人データ: 3000件以上対応
  - 表示数: 上位3件
  - 更新頻度: 1分ごとに再計算
  - マッチング根拠: 「〇〇のスキルがマッチ」等の理由表示
- **マッチング要素**:
  - スキル・経験
  - 希望条件（給与、勤務地、勤務時間）
  - 人柄・カルチャーフィット
  - 求人の充足状況（急募度）

#### F4: 内定支援
- **概要**: 面接中に内定提示をサポート
- **機能**:
  - マッチした求人の詳細表示
  - 内定テンプレートの表示
  - 条件提示のサポート
  - 次のステップ案内

### 2.2 サブ機能

#### F5: 面接サマリー
- 面接終了後、自動で要約生成
- 候補者プロファイル、マッチ求人、次アクション

#### F6: ダッシュボード
- 面接官ごとの品質スコア
- マッチング率、内定率の可視化
- 改善ポイントのフィードバック

#### F7: 求人管理
- 求人票のインポート（CSV/API）
- 充足状況の管理
- 優先度設定

---

## 3. 非機能要件

### 3.1 パフォーマンス
| 項目 | 要件 |
|------|------|
| 音声認識遅延 | 2秒以内 |
| アドバイス生成 | 3秒以内 |
| 求人マッチング | 5秒以内 |
| 同時接続数 | 100面接/同時 |

### 3.2 可用性
- 稼働率: 99.5%以上
- メンテナンス: 深夜帯（0-6時）に限定

### 3.3 セキュリティ
- 通信: TLS 1.3
- 音声データ: 面接終了後24時間で自動削除（設定可）
- 個人情報: 暗号化保存
- アクセス制御: 企業ごとのテナント分離

### 3.4 スケーラビリティ
- 水平スケーリング対応
- 求人データ: 10万件まで拡張可能

---

## 4. ユーザーストーリー

### US1: 面接官として
```
面接官として、
面接中にAIからアドバイスをもらいたい、
なぜなら面接品質を向上させたいから。
```

### US2: 面接官として
```
面接官として、
会話中に候補者に合う求人を知りたい、
なぜならその場で内定を出したいから。
```

### US3: マネージャーとして
```
マネージャーとして、
面接品質のスコアを見たい、
なぜなら面接官の育成に活かしたいから。
```

### US4: 候補者として
```
候補者として、
面接中に自分に合う仕事を提案されたい、
なぜなら早く仕事を決めたいから。
```

---

## 5. 画面構成

### 5.1 メイン画面（面接中）

```
┌─────────────────────────────────────────────────┐
│ HireMate                        面接中 ● 15:32  │
├─────────────────────────────────────────────────┤
│                                                 │
│  ┌─────────────────────────────────────────┐   │
│  │ 💬 会話ログ                              │   │
│  │ ─────────────────────────────────────── │   │
│  │ 面接官: 前職ではどんな業務を？           │   │
│  │ 候補者: 製造ラインの品質管理を3年...     │   │
│  │ 面接官: 具体的にどんな改善を？           │   │
│  │ 候補者: 不良率を30%削減しました          │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  ┌─────────────────────────────────────────┐   │
│  │ 💡 アドバイス                            │   │
│  │ ─────────────────────────────────────── │   │
│  │ 改善の具体的な方法について深掘りして     │   │
│  │ みてください（どんな手法を使った？）     │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  ┌─────────────────────────────────────────┐   │
│  │ 🎯 マッチ求人 TOP3                       │   │
│  │ ─────────────────────────────────────── │   │
│  │ 1. 品質管理リーダー @A社 (98%)           │   │
│  │    → 品質管理経験がマッチ                │   │
│  │ 2. 製造管理 @B社 (92%)                   │   │
│  │    → 製造ライン経験がマッチ              │   │
│  │ 3. 生産技術 @C社 (85%)                   │   │
│  │    → 改善実績がマッチ                    │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  [面接終了] [内定提示] [詳細を見る]             │
└─────────────────────────────────────────────────┘
```

### 5.2 サイドパネル版（面接ツール横表示）

面接ツール（Zoom等）の横に配置する小さいパネル版
- 幅: 300px程度
- アドバイスと求人TOP3のみ表示
- 会話ログは折りたたみ

---

## 6. データモデル

### 6.1 主要エンティティ

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│  Company    │────<│  Recruiter  │────<│  Interview  │
│  (企業)     │     │  (面接官)   │     │  (面接)     │
└─────────────┘     └─────────────┘     └──────┬──────┘
                                               │
                    ┌─────────────┐            │
                    │  Candidate  │────────────┘
                    │  (候補者)   │
                    └─────────────┘
                           │
┌─────────────┐            │
│  JobPosting │────────────┘
│  (求人票)   │
└─────────────┘
```

### 6.2 テーブル定義（概要）

#### interviews
| カラム | 型 | 説明 |
|--------|-----|------|
| id | UUID | 主キー |
| company_id | UUID | 企業ID |
| recruiter_id | UUID | 面接官ID |
| candidate_id | UUID | 候補者ID |
| started_at | TIMESTAMP | 開始時刻 |
| ended_at | TIMESTAMP | 終了時刻 |
| transcript | JSONB | 会話ログ |
| advice_log | JSONB | アドバイス履歴 |
| matched_jobs | JSONB | マッチ求人履歴 |
| result | ENUM | 結果（内定/保留/不採用） |

#### job_postings
| カラム | 型 | 説明 |
|--------|-----|------|
| id | UUID | 主キー |
| company_id | UUID | 企業ID |
| title | VARCHAR | 職種名 |
| description | TEXT | 仕事内容 |
| requirements | JSONB | 必要スキル |
| conditions | JSONB | 条件（給与等） |
| priority | INT | 優先度（急募度） |
| vacancy_count | INT | 募集人数 |
| embedding | VECTOR | ベクトル埋め込み |

---

## 7. API設計（概要）

### 7.1 WebSocket API

#### 音声ストリーミング
```
WS /api/v1/interviews/{interview_id}/stream

# クライアント → サーバー
{
  "type": "audio",
  "data": "<base64 audio chunk>",
  "timestamp": 1702100000000
}

# サーバー → クライアント
{
  "type": "transcript",
  "speaker": "candidate",
  "text": "品質管理を3年やっていました",
  "timestamp": 1702100000000
}

{
  "type": "advice",
  "content": "具体的な改善方法について深掘りしてみてください",
  "timestamp": 1702100001000
}

{
  "type": "job_match",
  "jobs": [
    {"id": "xxx", "title": "品質管理リーダー", "score": 0.98, "reason": "品質管理経験がマッチ"},
    ...
  ],
  "timestamp": 1702100002000
}
```

### 7.2 REST API

#### 面接管理
- `POST /api/v1/interviews` - 面接開始
- `PATCH /api/v1/interviews/{id}` - 面接終了・結果登録
- `GET /api/v1/interviews/{id}/summary` - サマリー取得

#### 求人管理
- `GET /api/v1/jobs` - 求人一覧
- `POST /api/v1/jobs/import` - 求人インポート
- `GET /api/v1/jobs/{id}` - 求人詳細

---

## 8. 優先度（MVP vs フル版）

### MVP（今夜のフリーレで作る）
- [x] リアルタイム音声認識
- [x] 基本的なアドバイス生成
- [x] 求人マッチング（10件程度でテスト）
- [x] シンプルなUI（Chrome拡張 or Webアプリ）

### Phase 2
- [ ] 話者分離
- [ ] ダッシュボード
- [ ] 求人管理画面
- [ ] 面接サマリー自動生成

### Phase 3
- [ ] 複数企業対応（マルチテナント）
- [ ] API連携（求人システム連携）
- [ ] モバイル対応

---

## 参考情報

- 2025-12-09 土戸さんとの会話から要件抽出
- 派遣会社の具体的なニーズ: 月間2000件面接、求人3000件
